{{!
    This file is part of Moodle - http://moodle.org/

    Moodle is free software: you can redistribute it and/or modify
    it under the terms of the GNU General Public License as published by
    the Free Software Foundation, either version 3 of the License, or
    (at your option) any later version.

    Moodle is distributed in the hope that it will be useful,
    but WITHOUT ANY WARRANTY; without even the implied warranty of
    MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
    GNU General Public License for more details.

    You should have received a copy of the GNU General Public License
    along with Moodle.  If not, see <http://www.gnu.org/licenses/>.
}}
{{!
    @template theme_govbrds/layout

    Main layout template for the GovBRDS theme.

    Context variables required for this template:
    * sitename - The short name of the site
    * fullname - The full name of the site
    * organization - The name of the organization
    * organization_url - The organization’s official URL
    * subordination - The supervising institution or ministry
    * addressm - The institutional address
    * output - The core Moodle renderer
    * sidepreblocks - HTML for the sidebar blocks
    * hasblocks - True if there are blocks on this page
    * bodyattributes - HTML attributes for the body tag
    * courseindexopen - True if the course index should be open on page load
    * blockdraweropen - True if the block drawer should be open on page load
    * courseindex - HTML for the course index
    * primarymoremenu - HTML for the primary navigation menu (more options)
    * secondarymoremenu - HTML for the secondary navigation menu
    * mobileprimarynav - HTML for the mobile primary navigation
    * usermenu - HTML for the user menu
    * langmenu - HTML for the language menu
    * forceblockdraweropen - Force the block drawer to remain open
    * regionmainsettingsmenu - HTML for the main region settings menu
    * hasregionmainsettingsmenu - True if there is a settings menu in the main region
    * overflow - Extra content for overflow areas
    * headercontent - HTML for the header content
    * addblockbutton - HTML for the “Add block” button

    Example context (json):
    {
        "sitename": "My Moodle",
        "fullname": "Moodle Training Portal",
        "organization": "Federal Institute",
        "organization_url": "https://www.if.edu.br",
        "subordination": "Ministry of Education",
        "addressm": "123 Brazil Avenue, Boa Vista",
        "output": {
            "doctype": "<!DOCTYPE html>",
            "page_title": "Test Page",
            "favicon": "favicon.ico",
            "main_content": "<h1>Sample main content</h1>"
        },
        "sidepreblocks": "<h2>Example blocks</h2>",
        "hasblocks": true,
        "bodyattributes": "class='format-site'",
        "courseindexopen": true,
        "blockdraweropen": false,
        "courseindex": "<nav>Course index</nav>",
        "primarymoremenu": "<ul><li>Option 1</li></ul>",
        "secondarymoremenu": "<ul><li>Secondary</li></ul>",
        "mobileprimarynav": "<nav>Mobile menu</nav>",
        "usermenu": "<div>User: John Doe</div>",
        "langmenu": "<select><option>EN</option><option>PT-BR</option></select>",
        "forceblockdraweropen": false,
        "regionmainsettingsmenu": "",
        "hasregionmainsettingsmenu": false,
        "overflow": "",
        "headercontent": "<header>Page header</header>",
        "addblockbutton": "<button>Add block</button>"
    }
}}
<div class="card dashboard-card {{^visible}}dimmed{{/visible}}" role="listitem" data-region="course-content" data-course-id="{{{id}}}">
    <a href="{{courseurl}}" tabindex="-1">
        <div class="card-img dashboard-card-img" style="background-image: url({{{image}}});">
            <span class="sr-only">{{fullname}}</span>
            {{#hasenrolmenticons}}
                <div class="enrolmenticons d-flex">
                    {{#enrolmenticons}}
                        <div class="enrolmenticon">
                            {{{.}}}
                        </div>
                    {{/enrolmenticons}}
                </div>
            {{/hasenrolmenticons}}
            <div class="d-flex align-items-center">
                <span class="br-tag bg-mint-cool-vivid-70" aria-describedby="tag-text01">
                    <span id="tag-text01">{{{category}}}</span>
                </span>
            </div>
        </div>

    </a>
    <div class="card-body course-info-container">
        <div class="text-weight-semi-bold text-up-02">
            <a href="{{courseurl}}" class="aalink coursename mr-2 mb-1 {{^visible}}dimmed{{/visible}}">
                {{{fullname}}}
            </a><br/>
        </div>
    </div>
    <div class="card-footer">
        <div class="d-flex">
            {{#metadata}}
                <strong>{{{name}}}:</strong>&nbsp;{{{value}}}<br/>
            {{/metadata}}
        </div>
    </div>
    {{#hasprogress}}
        <div class="d-flex align-items-start">
            <div class="card-footer dashboard-card-footer border-0 bg-white w-100">
                <div class="progress">
                    <div class="progress-bar" role="progressbar" aria-valuenow="{{{progress}}}" style="width: {{{progress}}}%" aria-valuemin="0" aria-valuemax="{{{progress}}}"></div>
                </div>
                <p class="mb-0">{{#str}}completepercent, block_myoverview, {{progress}}{{/str}}</p>
            </div>
        </div>
    {{/hasprogress}}
</div>
